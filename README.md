# JetSetGo2
Welcome to **JetSetGo2**, your ultimate travel companion!  
JetSetGo2 is a web-based platform designed to simplify and enhance the process of planning your trips. Whether you're traveling for leisure, business, or adventure, JetSetGo offers a seamless experience by bringing all your travel needs to one place.

## Motivation
JetSetGo2 is your ultimate travel companion, created to transform the way you plan trips. It eliminates the hassle of manual planning and introduces a seamless, all-in-one platform that empowers you to manage every aspect of your journey effortlessly. Whether it’s personalized itineraries, smart budgeting, or real-time updates, JetSetGo2 ensures your travel experience is stress-free and unforgettable.

## Build Status
JetSetGo2 is currently under active development and is not yet recommended for production environments. While the core features are operational, a few exciting enhancements are still in progress:    

  
- **Loyalty Level and Badge Updates**:  
	- This feature, designed to reward our users, is still in the works and will be a game-changer once implemented.  

  
- **Promo Code Creation by Admin**:  
	- The groundwork for this feature is ready, but a missing navigation button is temporarily keeping this functionality out of reach. Stay tuned for its debut!  

  
- **UI/UX Enhancements**:  
	- The visual experience is evolving, and our team is dedicated to delivering a polished, intuitive interface in upcoming updates.  

  
- **Performance and Scalability Optimizations**:  
	- Efforts are ongoing to ensure JetSetGo2 is faster, smoother, and capable of handling a growing user base.

## Code Style
JetSetGo2 adheres to robust coding standards to ensure clarity, consistency, and collaboration across the development process:  
- Tools Used:  
	- Prettier: Enforces automatic code formatting, making our code clean, readable, and uniform across the project.  
- Style Guidelines:  
	- We follow the StandardJS code style guidelines for JavaScript, ensuring a widely recognized and reliable convention.  
	- In the backend, a blank line is always left between methods and routes, fostering better readability and logical organization.
- Why It Matters:  
	- Adopting a consistent code style reduces errors, enhances teamwork, and ensures that anyone can easily navigate the project without confusion. JetSetGo2’s code is written not just for the present but for future scalability and collaboration.  


## Screenshots
### Home
![image](https://github.com/user-attachments/assets/7308cf9c-1722-4a75-a26f-fcbe2b1b039e)

### Tourist SignUP
![image](https://github.com/user-attachments/assets/a4b13445-27cd-457e-9ec2-fafcfe4295d2)

### Login
![image](https://github.com/user-attachments/assets/3c7f6cb0-9bf7-4fde-b621-222dfe62ee5e)

### Tourist HomePage
![image](https://github.com/user-attachments/assets/42783e29-e41b-42c3-9a25-2b52958e37af)

### BuyProducts By Tourist
![image](https://github.com/user-attachments/assets/69a4a9e0-6f03-43d4-b2b9-0eb9ae35ebbe)

### Tourist Wishlist
![image](https://github.com/user-attachments/assets/0dce0b64-e620-4caa-b0b9-72887613aaaf)

### Tourist Step - by - Step Guide 
![image](https://github.com/user-attachments/assets/89403021-f8f9-4280-b62d-7bdbbeb6f03a)

### Select Prefrences by Tourist
![image](https://github.com/user-attachments/assets/c12f2e3e-4fcf-4078-9658-b2c39a6b321f)

### Admin Complains
![image](https://github.com/user-attachments/assets/f50e681d-5d4b-4b0d-9c13-865d13f900bc)

### Admin User Statistics
![image](https://github.com/user-attachments/assets/be5f7e07-52e8-445c-93fa-1539bc386b42)

### Accept Users By Admin
![image](https://github.com/user-attachments/assets/2702e6bd-217c-478b-8f0e-d3cfdac3ae95)

### Generate Sales Report By Admin
![image](https://github.com/user-attachments/assets/f0fe78f6-bea0-4969-863d-99664e2c6262)

### Itenararies Shown By Admin
![image](https://github.com/user-attachments/assets/795f9344-c071-4147-b9e6-286865c283e9)

### Manage tags By Admin
![image](https://github.com/user-attachments/assets/2333e3e3-c4db-4ebe-b351-34727c5ed530)

### Seller Home Page
![image](https://github.com/user-attachments/assets/301bc4a1-8526-4338-abb0-431f2b7999b0)

### Manage Seller Products
![image](https://github.com/user-attachments/assets/94d01056-11ee-4758-b438-fb276cc6165a)

### Add a New Product
![image](https://github.com/user-attachments/assets/205e8641-d6e7-48eb-ae41-0e2247ae4489)

### Create Activity
![image](https://github.com/user-attachments/assets/ca8e5e0f-294f-4788-8fb2-ae00b0261a9c)

### View Seller Activities
![image](https://github.com/user-attachments/assets/1d0fdfc9-aa65-42d8-8635-17ca1d36d964)

### Tourguide HomePage
![image](https://github.com/user-attachments/assets/d9c1a3db-6bdb-465f-b4e5-851b65f0b2f8)

### Tourist Reports
![image](https://github.com/user-attachments/assets/b3b3fbf4-4146-43f8-b2c1-6627cca92f44)

### Calculate Revenue 
![image](https://github.com/user-attachments/assets/14a0b57e-4f04-42db-a0fe-fd0149d0318d)

### Create an Itinerary 
![image](https://github.com/user-attachments/assets/e0986238-d5f3-49fc-9f74-c9b9ed0a729e)

### View Tourguide Itineraries
![image](https://github.com/user-attachments/assets/8c7b40f4-03dc-4bbe-a432-484342c8c2dc)

## Tech/Framework used  
JetSetGo2 is powered by a modern **MERN stack** to ensure scalability, performance, and a seamless user experience:

- **Frontend**: React.js, Axios, Bootstrap CSS
- **Backend**: Node.js, Express.js
- **Database**: MongoDB
- **Authentication**: JSON Web Tokens (JWT)
- **Payment Integration**: Stripe API
- **API Integration**: Amadeus API for flight and hotel booking
- **Mapping Service**: OpenStreetMap for interactive maps and location-based services

## Features

JetSetGo2 delivers a comprehensive suite of features designed to revolutionize travel planning and management. Here’s what our platform offers:

#### Core Features

- **User Authentication**: Secure registration and login system for multiple user roles, including tourists, tour guides, and advertisers.
- **Password Recovery**: Easily recover passwords using OTP verification for hassle-free account access.
- **Role-Based Access**: Distinct functionalities tailored for tourists, tour guides, advertisers, and tourism governance entities.
- **Guest Access**: Limited functionalities for non-registered users, allowing exploration of the platform.
- **User Profiles**: Manage personal details, travel history, and preferences for a tailored experience.
- **Upload Document**s: Upload required documents during the registration process for tour guides, advertisers, or sellers.


#### Travel Planning

- **Trip Planning Tools**: Create and organize personalized itineraries and activities for a seamless travel experience.
- **Activity Management**: Schedule, view, and manage activities during trips with an intuitive interface.
- **Interactive Maps**: Visualize destinations and travel plans with integrated map support.
- **Promotions and Discounts**: Personalized promo codes and offers to enhance user engagement.
- **Loyalty Rewards**: Earn points for frequent travel activities and redeem them for discounts.
- **Currency Selection**: Choose the currency in which you want to view prices.


#### Search and Discovery

- **Search and Filter**: Advanced options to find destinations, services, and reviews quickly.
- **Reviews and Recommendations**: Access and contribute reviews for destinations and services.
- **Social Integration**: Share trips, reviews, and recommendations with other users.
- **Bookmark Events**: Save events to view later and request notifications when bookings open.

#### Admin and Governance Tools

- **Admin Management**: Comprehensive admin tools for monitoring platform activity, managing users, and enforcing compliance.
- **Promotional Tools**: Options for advertisers to promote services and destinations effectively.
- **Third-Party Integration**: Seamless API integration for travel-related services, such as flight and hotel booking.
- **Activity and Itinerary Management**: Create, read, update, or delete activities and itineraries, along with necessary details.

#### User Experience

- **Responsive Design**: Fully optimized for both mobile and desktop devices.
- **Notifications**: Timely alerts for upcoming trips, activities, bookings, and payment receipts.
- **Feedback Collection**: Built-in mechanism to gather user feedback for continuous improvement.
- **Loyalty Badges**: Earn badges based on activity and engagement levels.

#### Data Security and Insights

- **Secure Data Management**: Robust security for personal and sensitive user data.
- **Booking History**: View and manage past trip and service bookings with ease.
- **Sales Reports**: Generate reports on sales, revenue, and tourist attendance for events or itineraries.
- **Complaints and Resolutions**: File, view, and manage complaints with status tracking and admin replies.

#### Shopping and Products

- **Product Management**: View available products, add them to wishlists or carts, and complete purchases.
- **Product Ratings and Reviews**: Rate and review products after purchase.
- **Payment Options**: Pay using a wallet, credit card (via Stripe), or cash on delivery.
- **Order History**: View current and past orders, including statuses and cancellations.

#### Payment Features

- **Payment Options**: Pay for activities, itineraries, or products using a wallet, credit card (via Stripe), or cash on delivery(for products).
- **Payment Receipts**: Receive detailed payment receipts via email for all transactions.
- **Wallet Integration**: View wallet balance updates after payments or cancellations.
- **Loyalty Points**: Redeem loyalty points to add cash to your wallet.

## Code Examples

### Tourist Creation
```javascript
const createTourist = async (req, res) => {
  // create a tourist after sign up
  const {
    Email,
    UserName,
    Password,
    MobileNumber,
    Nationality,
    DateOfBirth,
    Job,
  } = req.body;

  // Validation checks
  if (
    !Email ||
    !UserName ||
    !Password ||
    !MobileNumber ||
    !Nationality ||
    !DateOfBirth ||
    !Job
  ) {
    return res.status(400).json({ error: "All fields are required." });
  }

  // Example: Validate Email format
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  if (!emailRegex.test(Email)) {
    return res.status(400).json({ error: "Invalid email format." });
  }

  // Example: Validate MobileNumber (it should be a number and not less than 10 digits)
  if (isNaN(MobileNumber) || MobileNumber.toString().length < 10) {
    return res
      .status(400)
      .json({ error: "Mobile number must be at least 10 digits." });
  }

  // Example: Validate DateOfBirth (it should be a valid date)
  const dob = new Date(DateOfBirth);
  if (isNaN(dob.getTime())) {
    return res.status(400).json({ error: "Invalid date of birth." });
  }

  try {
    const tourist = await touristModel.create({
      Email,
      UserName,
      Password,
      MobileNumber,
      Nationality,
      DateOfBirth,
      Job,
      Admin_Acceptance: true,
    });
    res.status(200).json(tourist);
  } catch (error) {
    res.status(400).json({ error: error.message });
  }
};
```
This component allows a user (tourist) to create an account by entering details like username, email, password, and more. The form data is sent to a backend API for processing, and the user is redirected to a login page upon successful signup.  

  
### User Authentication 
```javascript
const loginUser = async (req, res) => {
  const { Email, Password } = req.body;

  try {
    let user = await SellerModel.findOne({ Email });
    let AccountType = "Seller";

    // If not found in Seller, search in Adver
    if (!user) {
      user = await AdverModel.findOne({ Email });
      AccountType = "Advertiser";
    }

    // If not found in Adver, search in TourGuide
    if (!user) {
      user = await TourModel.findOne({ Email });
      AccountType = "TourGuide";
    }

    if (!user) {
      user = await TouristModel.findOne({ Email });
      AccountType = "Tourist";
    }

    if (!user) {
      user = await AdminModel.findOne({ Email });
      AccountType = "Admin";
    }

    // If user is not found in any model
    if (!user) {
      return res.status(401).json({ message: "Invalid credentials" });
    }

    // Check if password matches
    if (user.Password !== Password) {
      return res.status(401).json({ message: "Invalid credentials" });
    }

    // Generate JWT token including AccountType
    const token = jwt.sign(
      { userId: user._id, Email: user.Email, AccountType: AccountType }, // Include AccountType
      process.env.JWT_SECRET, // Your secret key
      { expiresIn: "1h" } // Token expiration
    );

    res.json({
      token,
      userId: user._id,
      Email: user.Email,
      AccountType: AccountType,
      profileCompleted: user.Profile_Completed || false, // Assuming the field 'profileCompleted' exists
      adminAccept: user.Admin_Acceptance || false,
    }); // Send token, AccountType, and profileCompleted back to client
  } catch (error) {
    console.error("Login error:", error);
    res.status(500).json({ message: "Server error", error: error.message });
  }
};
```
This functionality allows users (tourists, tour guides, advertisers, etc.) to securely log in to the platform by entering their credentials. The authentication token is stored locally to enable seamless access to protected routes and features.



## Installation

Follow these steps to set up JetSetGo2 locally:

### Prerequisites
- Node.js (v14 or higher)
- MongoDB
- Git

### Steps

1. **Clone Our Repository**:
```sh
git clone https://github.com/Advanced-computer-lab-2024/JetSetGo2.git
```
2. **Install dependencies**:
  
In the first terminal
```sh
cd backend 
npm install
```
Another terminal
```sh
cd frontend
npm install
```
3. **Set environment variables**:
Create a `.env` file in the root directory and add the necessary environment variables:
```env
MONGO_URI = "mongodb+srv://marwanallam8:012345678910@cluster0.ew4lb.mongodb.net/"
JWT_SECRET = 123@abc$in4
EMAIL_USER = marwanallam163@gmail.com
EMAIL_PASSWORD = himy vxuv rfvz znqw
STRIPE_SECRET_KEY= sk_test_51QQBfPKbaBifWGn1fXWxcx0EP2pM8w3mbIuiCioPXVwWwaaLneXESzR68ZJkabcYsNAo9my2oXr20RuWu96jiXQX00sOLXsAlz
Webhook_secret_key = whsec_395bd0204bc24e6ff41dad457b0bf0ca6f1961c497f09b6197045c434bae761a
```
4. **Run the application**:
  
In the first terminal
```sh
cd backend
nodemon server.js
```
In the second terminal
```sh
cd frontend
npm start
```

## Tests

JetSetGo2 includes robust testing to ensure all functionalities work as expected.

### Tools Used
- **Postman**: For manual API testing.

#### Promotions
- **GET http://localhost:8000/promo/get** : Fetches a list of all available promo codes.
- **POST http://localhost:8000/promo/create** : Creates a new promo code with specified details.

#### Products
- **GET http://localhost:8000/product/get** : Fetches a list of all available products.

#### OTP
- **POST http://localhost:8000/otp/send-otp** : Sends an OTP to the user’s email for verification purposes.

#### Tourists
- **GET http://localhost:8000/home/tourist/getTourist** : Fetches the details of a all tourists.

#### Sellers
- **GET http://localhost:8000/Seller/get** : Fetches a list of all registered sellers.

#### Advertisers
- **GET http://localhost:8000/home/adver/get** : Fetches a list of all registered advertisers.
- **DELETE http://localhost:8000/home/adver/deletMyAccount/6732179d63fd1193bedb7fb6** : Deletes the account of the advertiser with the specified ID (6732179d63fd1193bedb7fb6).

#### Activities
- **GET http://localhost:8000/activity/get** : Fetches a list of all available activities.

#### Itineraries
- **GET http://localhost:8000/itinerary/getIteneraries** : Fetches a list of all available itineraries.
- **GET http://localhost:8000/itinerary/getIten/6730f7fa9c4ed702d6174c4b** : Fetches the details of the itinerary with the specified ID (6730f7fa9c4ed702d6174c4b).

#### Tour Guides
- **GET http://localhost:8000/TourGuide/get** : Fetches a list of all registered tour guides.
- **DELETE http://localhost:8000/TourGuide/deletMyAccount/6730f7a49c4ed702d6174c25** : Deletes the account of the tour guide with the specified ID (6730f7a49c4ed702d6174c25).

#### Notifications
- **GET http://localhost:8000/notifications/675abfc06b3edc76222c816a**: Fetches notifications for the user with the specified ID (675abfc06b3edc76222c816a).
- **PATCH http://localhost:8000/notifications/read/675adf4066c80c785d721c54**: Marks the notification with the specified ID (675adf4066c80c785d721c54) as read.

#### Admin
- **GET http://localhost:8000/admin/total-users** : Fetches the total number of registered users on the platform.
- **GET http://localhost:8000/admin/monthly-users** : Fetches the number of new users registered each month.

## How to Use

JetSetGo2 is a versatile platform designed for multiple user roles, including tourists, tour guides, advertisers, and sellers. Below is a guide on how each user type can interact with the platform.

### Tourists  
1. **Registration**:
   - Sign up with your email, username, password, and personal details like nationality and date of birth.


## Contribute
We encourage and value contributions to JetSetGo2. To get involved, please follow these steps:
1.Fork the repository to your own account.
2.Create a new branch (git checkout -b feature-branch).
3.Implement your changes.
4.Commit the changes (git commit -m 'Add new feature').
5.Push the changes to your branch (git push origin feature-branch).
6.Submit a pull request for review.


## Credits
We would like to express our gratitude to the following resources and individuals for their valuable contributions and inspiration:
MongoDB
Node.js
Stripe
Google Maps API
StandardJS
React

## License
This project is distributed under the MIT License.

## contact
For any questions, feedback, or assistance, please reach out to us at 


Thank you for choosing JetSetGo2 – now go pack your bags and let the adventures begin!

